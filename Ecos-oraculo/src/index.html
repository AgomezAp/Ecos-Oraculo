<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=GT-K5QNXGSM"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "GT-K5QNXGSM");
    </script>
    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-NM5V9XQ2");
    </script>
    <!-- End Google Tag Manager -->
    <script src="https://js.stripe.com/v3/"></script>
    <script src="https://js.monei.com/v2/monei.js"></script>
    <meta charset="utf-8" />
    <title>Ecos del Oráculo</title>
    <base href="/" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
    <link rel="icon" type="image/x-icon" href="Favicon.png" />
    <!-- Google Fonts - Berkshire Swash y Arsenal -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Arsenal:ital,wght@0,400;0,700;1,400;1,700&family=Berkshire+Swash&family=El+Messiri:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- En la sección <head> de tu index.html -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />

    <!-- Protección contra apertura de consola y herramientas de desarrollador -->
    <script>
      // Deshabilitar click derecho
      document.addEventListener("contextmenu", function (e) {
        e.preventDefault();
        return false;
      });

      // Deshabilitar teclas de desarrollador (incluyendo F10 y F12 para Edge)
      document.addEventListener("keydown", function (e) {
        // F10 (Edge DevTools)
        if (e.keyCode === 121) {
          e.preventDefault();
          e.stopPropagation();
          return false;
        }
        // F12 (DevTools)
        if (e.keyCode === 123) {
          e.preventDefault();
          e.stopPropagation();
          return false;
        }
        // F11 (Pantalla completa - opcional bloquear)
        if (e.keyCode === 122) {
          e.preventDefault();
          return false;
        }
        // Ctrl+Shift+I (Herramientas de desarrollador)
        if (e.ctrlKey && e.shiftKey && e.keyCode === 73) {
          e.preventDefault();
          return false;
        }
        // Ctrl+Shift+J (Consola)
        if (e.ctrlKey && e.shiftKey && e.keyCode === 74) {
          e.preventDefault();
          return false;
        }
        // Ctrl+Shift+K (Consola Firefox)
        if (e.ctrlKey && e.shiftKey && e.keyCode === 75) {
          e.preventDefault();
          return false;
        }
        // Ctrl+U (Ver código fuente)
        if (e.ctrlKey && e.keyCode === 85) {
          e.preventDefault();
          return false;
        }
        // Ctrl+Shift+C (Inspector)
        if (e.ctrlKey && e.shiftKey && e.keyCode === 67) {
          e.preventDefault();
          return false;
        }
        // Ctrl+A (Seleccionar todo)
        if (e.ctrlKey && e.keyCode === 65) {
          e.preventDefault();
          return false;
        }
        // Ctrl+S (Guardar)
        if (e.ctrlKey && e.keyCode === 83) {
          e.preventDefault();
          return false;
        }
        // Ctrl+P (Imprimir)
        if (e.ctrlKey && e.keyCode === 80) {
          e.preventDefault();
          return false;
        }
        // Alt+F4 (Cerrar ventana)
        if (e.altKey && e.keyCode === 115) {
          e.preventDefault();
          return false;
        }
      });

      // También capturar en keyup para mayor seguridad
      document.addEventListener("keyup", function (e) {
        if (e.keyCode === 121 || e.keyCode === 123) {
          e.preventDefault();
          e.stopPropagation();
          return false;
        }
      });

      // Detectar si las herramientas de desarrollador están abiertas
      let devtools = {
        open: false,
        orientation: null,
      };

      const threshold = 160;

      // Método 1: Detectar por tamaño de ventana
      setInterval(function () {
        if (
          window.outerHeight - window.innerHeight > threshold ||
          window.outerWidth - window.innerWidth > threshold
        ) {
          if (!devtools.open) {
            devtools.open = true;
            document.body.innerHTML =
              '<div style="display:flex;justify-content:center;align-items:center;height:100vh;font-family:Arial;font-size:24px;color:red;background:#000;">⚠️ ACCESO NO AUTORIZADO DETECTADO ⚠️</div>';
          }
        } else {
          devtools.open = false;
        }
      }, 300);

      // Método 2: Detectar debugger
      setInterval(function () {
        var start = new Date();
        debugger;
        var end = new Date();
        if (end - start > 100) {
          document.body.innerHTML =
            '<div style="display:flex;justify-content:center;align-items:center;height:100vh;font-family:Arial;font-size:24px;color:red;background:#000;">⚠️ DEBUGGER DETECTADO ⚠️</div>';
        }
      }, 1000);

      // Protección adicional con console
      (function () {
        try {
          var $_console$$ = console;
          Object.defineProperty(window, "console", {
            get: function () {
              if ($_console$$._commandLineAPI) throw "Acceso denegado";
              return $_console$$;
            },
            set: function (val) {
              $_console$$ = val;
            },
          });
        } catch (ex) {}
      })();

      // Deshabilitar selección de texto
      document.onselectstart = function () {
        return false;
      };

      // Deshabilitar arrastrar elementos
      document.ondragstart = function () {
        return false;
      };

      // Bloquear print screen
      document.addEventListener("keyup", function (e) {
        if (e.keyCode === 44) {
          e.preventDefault();
          return false;
        }
      });

      // Mensaje de advertencia en consola
      setTimeout(function () {
        console.clear();
        console.log(
          "%c⚠️ ADVERTENCIA DE SEGURIDAD ⚠️",
          "color: red; font-size: 40px; font-weight: bold; text-shadow: 2px 2px 4px rgba(0,0,0,0.5);"
        );
        console.log(
          "%cEste sitio web está protegido por sistemas de seguridad avanzados.",
          "color: red; font-size: 16px; font-weight: bold;"
        );
        console.log(
          "%cEl acceso no autorizado a las herramientas de desarrollador está PROHIBIDO.",
          "color: red; font-size: 16px; font-weight: bold;"
        );
        console.log(
          "%cTodas las actividades son monitoreadas y registradas.",
          "color: red; font-size: 16px; font-weight: bold;"
        );
      }, 1000);

      // Limpiar consola periódicamente
      setInterval(function () {
        console.clear();
      }, 5000);

      // Protección adicional para Edge
      if (
        navigator.userAgent.indexOf("Edge") > -1 ||
        navigator.userAgent.indexOf("Edg") > -1
      ) {
        document.addEventListener(
          "keydown",
          function (e) {
            // Bloquear F10 específicamente en Edge
            if (e.key === "F10" || e.keyCode === 121) {
              e.preventDefault();
              e.stopImmediatePropagation();
              return false;
            }
          },
          true
        );
      }
    </script>

    <style>
      /* Deshabilitar selección de texto */
      body {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        -webkit-touch-callout: none;
        -webkit-tap-highlight-color: transparent;
      }

      /* Ocultar scrollbars cuando se detecten devtools */
      body::-webkit-scrollbar {
        display: none;
      }

      /* Protección adicional CSS */
      * {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
    </style>
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-NM5V9XQ2"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <app-root></app-root>
  </body>
</html>
